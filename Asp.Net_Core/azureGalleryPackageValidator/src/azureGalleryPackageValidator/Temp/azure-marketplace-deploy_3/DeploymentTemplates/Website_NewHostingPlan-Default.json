{  
   "$schema":"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
   "contentVersion":"1.0.0.0",
   "parameters":{  
      "siteName":{  
         "type":"string"
      },
      "hostingPlanName":{  
         "type":"string"
      },
      "siteLocation":{  
         "type":"string"
      },
      "sku":{  
         "type":"string",
         "allowedValues":[  
            "Free",
            "Shared",
            "Basic",
            "Standard",
            "Premium"
         ],
         "defaultValue":"Standard"
      },
      "skuCode":{  
         "type":"string",
         "allowedValues":[  
            "F1",
            "S1",
            "B1",
            "P1",
            "D1"
         ],
         "defaultValue":"S1"
      },
      "workerSize":{  
         "type":"string",
         "allowedValues":[  
            "0",
            "1",
            "2"
         ],
         "defaultValue":"0"
      },
      "serverFarmResourceGroup":{  
         "type":"string"
      },
	  "subscriptionId":{
	     "type":"string"
	  }
   },
   "resources":[  
      {  
         "name":"[parameters('siteName')]",
         "type":"Microsoft.Web/sites",
         "properties":{  
            "name":"[parameters('siteName')]",
            "serverFarmId":"[concat('/subscriptions/', parameters('subscriptionId'),'/resourcegroups/', parameters('serverFarmResourceGroup'), '/providers/Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]",
            "hostingEnvironment":""
         },
         "resources":[  
            {  
               "apiVersion":"2016-03-01",
               "name":"web",
               "type":"sourcecontrols",
               "dependsOn":[  
                  "[resourceId('Microsoft.Web/Sites', parameters('siteName'))]"
               ],
               "properties":{  
                  "RepoUrl":"https://github.com/Kentico/cloud-sample-app-net",
                  "branch":"master",
                  "IsManualIntegration":true
               }
            }
         ],
         "apiVersion":"2016-03-01",
         "location":"[parameters('siteLocation')]",
         "tags":{  
            "[concat('hidden-related:', '/subscriptions/', parameters('subscriptionId'),'/resourcegroups/', parameters('serverFarmResourceGroup'), '/providers/Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]":"empty"
         },
         "dependsOn":[  
            "[concat('Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]"
         ]
      },
      {  
         "apiVersion":"2016-09-01",
         "name":"[parameters('hostingPlanName')]",
         "type":"Microsoft.Web/serverfarms",
         "location":"[parameters('siteLocation')]",
         "properties":{  
            "name":"[parameters('hostingPlanName')]",
            "workerSizeId":"[parameters('workerSize')]",
            "numberOfWorkers":"1",
            "hostingEnvironment":""
         },
         "sku":{  
            "Tier":"[parameters('sku')]",
            "Name":"[parameters('skuCode')]"
         }
      }
   ]
}